<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 메일  -->
<mapper namespace="Mail">
    <!-- mail insert -->
    <insert id="addMail" parameterType="com.kedu.ggirick_client_backend.dto.mail.MailDTO">
        <selectKey order="BEFORE" keyProperty="id" resultType="int">
            select mail_seq.nextval from dual
        </selectKey>
        insert into mail values(#{id},#{sender},#{title},#{content},#{status},#{sentAt})
    </insert>

    <!-- mail_receiver insert -->
    <insert id="addMailReceiver" parameterType="com.kedu.ggirick_client_backend.dto.mail.MailReceiverDTO">
        <selectKey order="BEFORE" keyProperty="id" resultType="int">
            select mail_receiver_seq.nextval from dual
        </selectKey>
        insert into mail_receiver values(#{id},#{mailId},#{receiver},#{receivedAt},#{typeId},#{statusId})
    </insert>

</mapper>